!function(t){var n=[t.querySelector("section").id.substr(5)];function r(e){t.getElementById("page-"+n[n.length-1]).className=e}function e(){var e=this.dataset;this.disabled=!0,null!=e.back?(r("current-right"),n.pop(),r("left-current")):e.href&&(r("current-left"),n.push(e.href),r("right-current")),this.disabled=!1}for(var d=t.querySelectorAll("button"),a=0,o=d.length;a<o;a++)d[a].addEventListener("click",e,!1)}(document),function(){var e=new XMLHttpRequest;e.open("GET","help.html",!1),e.send();var t=(new DOMParser).parseFromString(e.responseText,"text/html"),n=navigator.language.split("-")[0],r=t.getElementById("help-"+n);r||(r=t.getElementById("help-en")),document.getElementById("content-help").appendChild(r);var d={en:"Place your code here...",es:"Coloca tu código aquí..."};document.getElementById("editor").placeholder=d[n]||d.en}(),function(){var n,r={},d=1,a=0;function e(e){var t=e.data,n=t.id;a--,r[n](t.error,t.result),delete r[n]}function t(){(n=new Worker("js/worker.js")).onmessage=e}t(),this.run=function(e,t){r[d]=t,a++,n.postMessage({id:d++,code:e})},document.addEventListener("visibilitychange",function(){document.hidden?0==a&&(n.terminate(),n=null):n||t()},!1)}(),function(){var e=CodeMirror.fromTextArea(document.getElementById("editor"),{theme:"material",mode:"ruby"}),t=document.getElementById("btn-run"),u=document.getElementById("btn-result-back");e.on("keyup",function(){t.disabled=""==e.getValue().trim()});var s=document.getElementById("history"),m=document.querySelector(".active");t.addEventListener("click",function(){var a=e.getValue().trim(),o=new Date,i=this;i.disabled=!0,u.disabled=!0,m&&(m.className="");var l=document.createElement("progress"),c=s.parentNode;l.value=0,l.max=100,c.insertBefore(l,s),run(a,function(e,t){var n,r=document.createElement("li");r.className="active",(n=document.createElement("p")).textContent=t||" ",e&&(n.className="error",n.textContent=e.name+": "+e.message),r.appendChild(n),n=document.createElement("p");var d=document.createElement("time");d.dateTime=o.toJSON(),d.textContent=o.toString().match(/\d\d:\d\d/)[0],n.appendChild(d),n.appendChild(document.createTextNode(a)),r.appendChild(n),m?s.insertBefore(r,m):s.appendChild(r),m=r,c.removeChild(l),i.disabled=!1,u.disabled=!1})},!1)}();