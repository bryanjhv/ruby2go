!function(e){function t(t){e.getElementById("page-"+r[r.length-1]).className=t}function n(){var e=this.dataset;this.disabled=!0,null!=e.back?(t("current-right"),r.pop(),t("left-current")):e.href&&(t("current-left"),r.push(e.href),t("right-current")),this.disabled=!1}for(var r=[e.querySelector("section").id.substr(5)],d=e.querySelectorAll("button"),a=0,o=d.length;a<o;a++)d[a].addEventListener("click",n,!1)}(document),function(){var e=new XMLHttpRequest;e.open("GET","help.html",!1),e.send();var t=new DOMParser,n=t.parseFromString(e.responseText,"text/html"),r=navigator.language.split("-")[0],d=n.getElementById("help-"+r);d||(d=n.getElementById("help-en")),document.getElementById("content-help").appendChild(d);var a={en:"Place your code here...",es:"Coloca tu código aquí..."};document.getElementById("editor").placeholder=a[r]||a.en}(),function(){function e(e){var t=e.data,n=t.id;o--,d[n](t.error,t.result),delete d[n]}function t(){r=new Worker("js/worker.js"),r.onmessage=e}function n(e,t){d[a]=t,o++,r.postMessage({id:a++,code:e})}var r,d={},a=1,o=0;t(),this.run=n,document.addEventListener("visibilitychange",function(){document.hidden?0==o&&(r.terminate(),r=null):r||t()},!1)}(),function(){var e=CodeMirror.fromTextArea(document.getElementById("editor"),{theme:"material",mode:"ruby"}),t=document.getElementById("btn-run"),n=document.getElementById("btn-result-back");e.on("keyup",function(){t.disabled=""==e.getValue().trim()});var r=document.getElementById("history"),d=document.querySelector(".active");t.addEventListener("click",function(){var t=e.getValue().trim(),a=new Date,o=this;o.disabled=!0,n.disabled=!0,d&&(d.className="");var i=document.createElement("progress"),l=r.parentNode;i.value=0,i.max=100,l.insertBefore(i,r),run(t,function(e,c){var u,s=document.createElement("li");s.className="active",u=document.createElement("p"),u.textContent=c||" ",e&&(u.className="error",u.textContent=e.name+": "+e.message),s.appendChild(u),u=document.createElement("p");var m=document.createElement("time");m.dateTime=a.toJSON(),m.textContent=a.toString().match(/\d\d:\d\d/)[0],u.appendChild(m),u.appendChild(document.createTextNode(t)),s.appendChild(u),d?r.insertBefore(s,d):r.appendChild(s),d=s,l.removeChild(i),o.disabled=!1,n.disabled=!1})},!1)}();